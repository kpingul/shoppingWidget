var myApp=angular.module("myApp",["ui.router","mm.foundation"]);!function(){"use strict";angular.module("myApp").controller("mainCtrl",["$scope","fruitData","userData",function(e,t,i){e.items=0,e.total=0;var r=e.$on("handleBroadCast",function(){e.items=i.totalItemCount,e.total=i.totalPrice});e.$on("$destroy",function(){r()})}])}(),function(){"use strict";angular.module("myApp").config(["$urlRouterProvider","$stateProvider",function(e,t){e.when("","/"),e.when("/processForm","/processForm/content"),t.state("home",{url:"/",templateUrl:"src/js/app/content/fruit list/fruitList.tpl.html",controller:"fruitListCtrl"}).state("singleFruit",{url:"/:id",templateUrl:"src/js/app/content/single list/singleFruit.tpl.html",controller:"singleFruitCtrl"}).state("processForm",{url:"/processForm",templateUrl:"src/js/app/content/process form/processForm.tpl.html",controller:"processFormCtrl"}).state("processForm.content",{url:"/content",templateUrl:"src/js/app/content/process form/processForm.content.tpl.html"}).state("processForm.profile",{url:"/profile",templateUrl:"src/js/app/content/process form/processForm.profile.tpl.html"}).state("processForm.payment",{url:"/payment",templateUrl:"src/js/app/content/process form/processForm.payment.tpl.html"})}])}(),function(){angular.module("myApp").factory("fruitData",function(){var e={};return e.fruit=[{name:"Orange",image:"src/images/orange.jpg",price:1.9,description:"High in Vitamin C",rating:4,reviews:[{name:"Person 1",title:"Awesome Fruit!",review:"I love Oranges!",rating:4},{name:"Person 2",title:"Weird tasting fruit!",review:"So tangy!",rating:4},{name:"Person 3",title:"Not so sure why I wrote this!",review:"They're ok.",rating:5}]},{name:"Kiwi",image:"src/images/kiwi.jpg",price:1.2,description:"High in Vitamin K",rating:3,reviews:[{name:"Person 1",review:"Kiwi's are so green and beautiful",title:"Beautiful fruit",rating:2},{name:"Person 2",review:"Didn't know they had vitamin K, wait, what is vitamin K?",title:"Vitamin K??",rating:4}]},{name:"Banana",image:"src/images/bananna.jpg",price:.9,description:"High in Vitamin C and Fiber",rating:4,reviews:[{name:"Person1",review:"Saved me from a muscle pull the other day.",title:"Potassium!!!",rating:5},{name:"Person2",review:"Not going to lie, they are delicious!",title:"Fruit of the century!",rating:2},{name:"Person3",review:"Pretty darn good.",title:"Person above me got way too excited about a fruit.",rating:4}]},{name:"Watermelon",image:"src/images/watermelon.jpg",price:.98,description:"Potassium and Vitamin A",rating:4,reviews:[{name:"Person1",review:"So sweet!",title:"Sugar pie honey bunch!",rating:5},{name:"Person2",review:"Sweeter than sweet!",title:"Water-Melon!",rating:3}]},{name:"Pear",image:"src/images/pear.jpg",price:.58,description:"Vitamin D and Fiber",rating:5,reviews:[{name:"Person1",review:"Pear me up!",title:"Pears are my thing!",rating:5},{name:"Person2",review:"I love pears!",title:"Something about the fruit that just....",rating:4},{name:"Person3",review:"So sweet!",title:"Sugar pie honey bunch!",rating:5}]},{name:"Mango",image:"src/images/mango.jpg",price:1.32,description:"Calcium and Vitamin C",rating:2,reviews:[{name:"Person1",review:"Mangogogo!",title:"Such an awesome fruit!",rating:3},{name:"Person2",review:"EHHHH..",title:"Here's my two cents!",rating:1}]},{name:"Pineapple",image:"src/images/pineapple.jpg",price:2.3,description:"Vitamin C and Vitamin A",rating:5,reviews:[{name:"Person1",review:"Pine + Apple = PineApple",title:"So dangerous, yet so good.",rating:4},{name:"Person2",review:"Not so bad..",title:"Pineapple me crazy!",rating:5},{name:"Person3",review:"I love Pineapples!",title:"L.O.V.E",rating:5},{name:"Person4",review:"Pineapples are just so good!",title:"AGREE!",rating:5}]},{name:"Strawberry",image:"src/images/strawberry.jpg",price:4.43,description:"Vitamin A and Fiber",rating:4,reviews:[{name:"Person1",review:"To be honest, they're ok",title:"Not my type",rating:3},{name:"Person2",review:"Totally delicious!",title:"O.M..",rating:5}]},{name:"blackberry",image:"src/images/blackberry.jpg",price:2.24,description:"Vitamin A and Antioxidants",rating:1,reviews:[{name:"Person1",review:"So fresh and so clean!",title:"Cleansing my system with these babies",rating:3},{name:"Person2",review:"EHHHHHHH.",title:"Not so good.",rating:1},{name:"Person3",review:"A little too bland for my taste",title:"Not a fan",rating:1},{name:"Person4",review:"Not a fan as well",title:"Person 2, I salute you friend",rating:1}]},{name:"Coconut",image:"src/images/coconut.jpg",price:3.15,description:"High in Fiber",rating:5,reviews:[{name:"Person1",review:"Call me CocoCrazy!",title:"So goooooood!",rating:5},{name:"Person2",review:"The juice is the best!",title:"The juice of choice!",rating:5}]},{name:"Grapefruit",image:"src/images/grapefruit.jpg",price:1.05,description:"Vitamin A and Vitamin C",rating:2,reviews:[{name:"Person1",review:"A little to bitter",title:"B.I.T.T.E.R",rating:2},{name:"Person2",review:"Never find the right one",title:"Not much of a fan",rating:2}]},{name:"Raspberry",image:"src/images/raspberry.jpg",price:3.05,description:"Vitamin B and Antioxidants",rating:3,reviews:[{name:"Person1",review:"Such as gorgeous fruit",title:"So beautiful",rating:4},{name:"Person2",review:"Pretty good",title:"Sweet and sour!",rating:3},{name:"Person3",review:"Such as gorgeous fruit x 2",title:"So beautiful x 2",rating:3},{name:"Person4",review:"Such a delicious fruit",title:"One of the better berries",rating:3}]},{name:"Papaya",image:"src/images/papaya.jpg",price:3.33,description:"Vitamin B and Fiber",rating:5,reviews:[{name:"Person1",review:"Haven't had any lately until now, and they're aren't so bad",title:"First attemp in awhile",rating:5},{name:"Person2",review:"Smoooth",title:"Such a nice fruit",rating:5}]},{name:"Cherry",image:"src/images/cherry.jpg",price:2.12,description:"High in Fiber",rating:2,reviews:[{name:"Person1",review:"Not a fan",title:"If they were only a little bigger",rating:3},{name:"Person2",review:"Not my fruit of choice",title:"Not bad",rating:1},{name:"Person3",review:"Fiberous",title:"Brilliant fruit!",rating:1}]},{name:"Honeydew",image:"src/images/honeydew.jpg",price:3.25,description:"Vitamin B and Vitamin C",rating:4,reviews:[{name:"Person1",review:"Awesome fruit!",title:"So goooooooooood!",rating:4},{name:"Person2",review:"Delicious",title:"One of the better fruits",rating:4},{name:"Person3",review:"Pretty good",title:"G.O.O.D",rating:4},{name:"Person4",review:"I like honeydew",title:"Amazing",rating:3},{name:"Person5",review:"Delicious fruit",title:"Great fruit!",rating:4}]},{name:"Peach",image:"src/images/peach.jpg",price:1.5,description:"Vitamin A and High Fiber",rating:5,reviews:[{name:"Person1",review:"So goood!",title:"So Peachy!",rating:5},{name:"Person2",review:"Love them!",title:"O.M.Peach",rating:5}]},{name:"Passionfruit",image:"src/images/passionfruit.jpg",price:3.33,description:"Vitamin B and Fiber",rating:2,reviews:[{name:"Person1",review:"Not so good",title:"Bland....",rating:1},{name:"Person2",review:"Agreed with Person1",title:"ehhhhh",rating:2}]}],e.getAllFruits=function(){return this.fruit},e.getSingleFruit=function(e){return this.fruit[e]},e})}(),function(){"use strict";angular.module("myApp").factory("userData",["$rootScope",function(e){var t={name:"",email:"",city:"",totalItemCount:0,totalPrice:0,items:[]},i=[];return t.findFruitDuplicate=function(e){for(var i=0;i<t.items.length;i++)if(e===t.items[i].fruit)return console.log("duplicate found"),!0;return!1},t.addFruitDuplicate=function(e,i,r){for(var n=parseInt(i),a=(parseInt(r),0);a<t.items.length;a++)e===t.items[a].fruit&&(t.items[a].fruitCount+=n,t.items[a].fruitPrice+=t.items[a].originalPrice*n,this.totalItemCount+=n,this.totalPrice+=t.items[a].originalPrice*n,this.broadCast())},t.getFruitDuplicate=function(e){for(var i=0;i<t.items.length;i++)if(name===t.items[i].fruit)return userData.items[i]},t.setCheckout=function(e,r,n,a,o){console.log(t.items);var s=parseInt(n);if(0>=s||t.findFruitDuplicate(e))t.addFruitDuplicate(e,n,a);else{this.totalItemCount+=s,this.totalPrice+=a*s;var m={fruit:e,image:r,fruitCount:s,fruitPrice:a*s,originalPrice:a,description:o};i.push(m),t.items=i,this.broadCast()}},t.deleteUsersFruit=function(e,i){t.items.splice(i,1),this.totalItemCount-=e.fruitCount,this.totalPrice-=e.fruitPrice,this.broadCast()},t.setNewUserData=function(e,i,r){for(var n=parseInt(i),a=0;a<t.items.length;a++)t.items[a].fruit===e&&t.items[a].fruitCount==n&&this.broadCast(),t.items[a].fruit===e&&n>t.items[a].fruitCount&&(this.totalPrice-=t.items[a].fruitPrice,this.totalItemCount-=t.items[a].fruitCount,t.items[a].fruitCount=n,t.items[a].fruitPrice=t.items[a].originalPrice*n,this.totalItemCount+=t.items[a].fruitCount,this.totalPrice+=t.items[a].originalPrice*n,this.broadCast()),t.items[a].fruit===e&&n<t.items[a].fruitCount&&(this.totalPrice-=t.items[a].fruitPrice,this.totalItemCount-=t.items[a].fruitCount,t.items[a].fruitCount=n,t.items[a].fruitPrice=t.items[a].originalPrice*n,this.totalItemCount+=t.items[a].fruitCount,this.totalPrice+=t.items[a].originalPrice*n,this.broadCast())},t.setUserInformation=function(e,t,i){this.name=e,this.email=t,this.city=i},t.clearUsersData=function(){for(var e=0;e<t.items.length;e++)t.items.splice(e,1);this.totalItemCount=0,this.totalPrice=0,this.name="",this.email="",this.city="",this.broadCast()},t.getTotalPrice=function(){return this.totalPrice},t.getItemCount=function(){return this.totalItemCount},t.checkTotalPriceAndCount=function(){return this.totalPrice<=0||this.totalItemCount<=0?!1:!0},t.getAllUsersData=function(){return t},t.getListItems=function(){return this.items},t.getName=function(){return this.name},t.getEmail=function(){return this.email},t.getCity=function(){return this.city},t.broadCast=function(){e.$broadcast("handleBroadCast")},t}])}(),function(){"use strict";angular.module("myApp").directive("navigation",function(){return{restrict:"E",templateUrl:"src/js/app/content/navigation/navigation.tpl.html"}})}(),function(){"use strict";angular.module("myApp").controller("fruitListCtrl",["$scope","fruitData",function(e,t){e.fruits=[],e.fruitCount=0,e.fruits=t.getAllFruits()}])}(),function(){"use strict";angular.module("myApp").controller("processFormCtrl",["$scope","userData",function(e,t){e.formData={},e.formData.userName=t.getName(),e.formData.userEmail=t.getEmail(),e.formData.userCity=t.getCity(),e.usersData=t.getListItems(),e.disabledNext=!0,e.disabledForm=!0,e.profileValid=!1,e.orderSubmit=!1,e.deleteAllFruit=function(e,i,r){t.deleteUsersFruit(i,r)},e.updateEditedCheckoutOrder=function(e,i,r){console.log(e,i,r),t.setNewUserData(e,i,r)},e.processForm=function(i){i&&(t.setUserInformation(e.formData.userName,e.formData.userEmail,e.formData.userCity),e.disabledForm=!1,e.profileValid=!0)},e.submitOrder=function(i,r,n){!r&&0>=n?alert("Must fill out information and go shopping"):r&&0>=n?alert("Empty Cart"):!r&&n>=0?alert("Must fill out information"):r&&n>0&&(i.splice(0,i.length-1),e.orderSubmit=!0,t.clearUsersData())},e.checkForTotal=function(){return t.checkTotalPriceAndCount()?(e.disabledNext=!1,!0):void 0}}])}(),function(){"use strict";angular.module("myApp").directive("userlistitems",function(){return{restrict:"E",templateUrl:"src/js/app/content/process form/processForm.fruitlist.tpl.html"}})}(),function(){"use strict";angular.module("myApp").controller("singleFruitCtrl",["$scope","$stateParams","userData","fruitData",function(e,t,i,r){e.singleFruit=r.getSingleFruit(t.id),e.singleFruit.fruitCount="QTY",e.isDisabled=!1,e.alert=!1,e.selectable=!1,e.id=t.id,e.addToCart=function(t,r,n,a,o){return 0>=n||isNaN(n)?!1:(e.selectable=!0,e.alert=!0,i.setCheckout(t,r,n,a,o),e.isDisabled=!0,void 0)}}])}(),function(){"use strict";angular.module("myApp").directive("alert",function(){return{}})}();